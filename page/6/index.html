<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Be Myself</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Be Myself">
<meta property="og:url" content="http://fuxiao0.github.io/page/6/index.html">
<meta property="og:site_name" content="Be Myself">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Be Myself">
<meta name="twitter:description">
  
  
    <link href="/favicon.ico" rel="icon" type="image/x-ico">
  
  <link href="//fonts.baidu.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Be Myself</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">那些以为的刻苦铭心，都不过是云淡风轻......</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">主页</a>
        
          <a class="main-nav-link" href="/archives">归类</a>
        
          <a class="main-nav-link" href="/tags">标签</a>
        
          <a class="main-nav-link" href="/life">生活</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://fuxiao0.github.io"></form>
      </div>
    </div>
  </div>
<script>
    
    var d = new Date();
    var m = d.getMinutes();
    var num = Math.ceil((m + 1) / (60 / 6));
    document.getElementById("banner").style.backgroundImage = "url(/css/images/banner" + num + ".jpg)";
    
</script>

</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-ECMAScript-6" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/01/21/ECMAScript-6/" class="article-date">
  <time datetime="2016-01-21T09:55:30.000Z" itemprop="datePublished">2016-01-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/21/ECMAScript-6/">ECMAScript 6</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
 
        
        <h2 id="let"><a href="#let" class="headerlink" title="let"></a>let</h2><ul>
<li><p>let声明的变量只在它所在的代码块有效。</p>
</li>
<li><p>let不像var那样会发生“变量提升”现象。所以，变量一定要在声明后使用，否则报错。</p>
</li>
<li><p>如果区块中存在let和const命令，这个区块对这些命令声明的变量，从一开始就形成了封闭作用域。凡是在声明之前就使用这些命令，就会报错。</p>
</li>
<li><p>ES6规定暂时性死区和不存在变量提升，主要是为了减少运行时错误，防止在变量声明前就使用这个变量，从而导致意料之外的行为。</p>
</li>
</ul>
<p>这样的错误在ES5是很常见的，现在有了这种规定，避免此类错误就很容易了。</p>
<p>总之，暂时性死区的本质就是，只要一进入当前作用域，所要使用的变量就已经存在了，但是不可获取，只有等到声明变量的那一行代码出现，</p>
<p>才可以获取和使用该变量。</p>
<ul>
<li>ES6规定暂时性死区和不存在变量提升，主要是为了减少运行时错误，防止在变量声明前就使用这个变量，从而导致意料之外的行为。</li>
</ul>
<p>这样的错误在ES5是很常见的，现在有了这种规定，避免此类错误就很容易了。</p>
<ul>
<li>总之，暂时性死区的本质就是，只要一进入当前作用域，所要使用的变量就已经存在了，但是不可获取，只有等到声明变量的那一行代码出现，</li>
</ul>
<p>才可以获取和使用该变量。</p>
<ul>
<li>let不允许在相同作用域内，重复声明同一个变量。</li>
</ul>
<h3 id="u5757_u7EA7_u4F5C_u7528_u57DF"><a href="#u5757_u7EA7_u4F5C_u7528_u57DF" class="headerlink" title="块级作用域"></a>块级作用域</h3><p>  *为什么要是用块级作用域？</p>
<ol>
<li><p>第一种场景，内层变量可能会覆盖外层变量。</p>
</li>
<li><p>第二种场景，用来计数的循环变量泄露为全局变量。</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> tmp = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(tmp);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="literal">false</span>)&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> tmp = <span class="string">"hello world"</span>;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">f() <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> s = <span class="string">'hello'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; s.length; i++)&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(s[i]);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(i); <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>
<p>  *怎样使用块级作用域？</p>
<ol>
<li><p>允许块级作用域的任意嵌套</p>
</li>
<li><p>使得获得广泛应用的立即执行匿名函数（IIFE）不再必要了。</p>
</li>
<li><p>ES6也规定，函数本身的作用域，在其所在的块级作用域之内。</p>
</li>
<li><p>ES5存在函数提升;ES6支持块级作用域;</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="string">'I am outside!'</span>); &#125;</span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(<span class="literal">false</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 重复声明一次函数f</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="string">'I am inside!'</span>); &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  f();</span><br><span class="line"></span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>
<h2 id="const"><a href="#const" class="headerlink" title="const"></a>const</h2><ul>
<li><p>一旦声明，常量的值就不能改变；</p>
</li>
<li><p>不可重复声明，声明后为“read only”状态；</p>
</li>
<li><p>const一旦声明变量，就必须立即初始化</p>
</li>
<li><p>只在声明所在的块级作用域内有效。</p>
</li>
<li><p>const命令声明的常量也是不提升，同样存在暂时性死区，只能在声明的位置后面使用。</p>
</li>
</ul>
<p>**es6的6中声明变量的方法</p>
<p>let,const,class,import,var,function</p>
<h3 id="u5168_u5C40_u53D8_u91CF"><a href="#u5168_u5C40_u53D8_u91CF" class="headerlink" title="全局变量"></a>全局变量</h3><ul>
<li>Es6一方面规定，var命令和function命令声明的全局变量，依旧是全局对象的属性；</li>
</ul>
<p>另一方面规定，let命令、const命令、class命令声明的全局变量，不属于全局对象的属性</p>
<ul>
<li>字符的Unicode表示法:</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="string">'\z'</span> === <span class="string">'z'</span>  <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="string">'\172'</span> === <span class="string">'z'</span> <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="string">'\x7A'</span> === <span class="string">'z'</span> <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="string">'\u007A'</span> === <span class="string">'z'</span> <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="string">'\u&#123;7A&#125;'</span> === <span class="string">'z'</span> <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h3 id="codePointAt_28_29"><a href="#codePointAt_28_29" class="headerlink" title="codePointAt()"></a>codePointAt()</h3><ul>
<li>为什么会用到codePointAt 方法</li>
</ul>
<ul>
<li>汉字需要4个字节储存。对于这种4个字节的字符，JavaScript不能正确处理，</li>
</ul>
<p>字符串长度会误判为2，而且charAt方法无法读取整个字符，</p>
<p>charCodeAt方法只能分别返回前两个字节和后两个字节的值。</p>
<ul>
<li>codePointAt 怎样使用？</li>
</ul>
<ul>
<li>ES6提供了codePointAt方法，能够正确处理4个字节储存的字符，返回一个字符的码点。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> s = <span class="string">'𠮷a'</span>;</span><br><span class="line"></span><br><span class="line">s.codePointAt(<span class="number">0</span>) <span class="comment">// 134071</span></span><br><span class="line"></span><br><span class="line">s.codePointAt(<span class="number">1</span>) <span class="comment">// 57271</span></span><br><span class="line"></span><br><span class="line">s.charCodeAt(<span class="number">2</span>) <span class="comment">// 97 如果想要十六进制的值，可以使用toString方法转换一下。</span></span><br></pre></td></tr></table></figure>
<ul>
<li>for…of 正确识别32位的UTF-16字符</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> s = <span class="string">'𠮷a'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> ch <span class="keyword">of</span> s) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(ch.codePointAt(<span class="number">0</span>).toString(<span class="number">16</span>));</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// "20bb7"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// "61"</span></span><br></pre></td></tr></table></figure>
<ul>
<li>codePointAt方法是测试一个字符由两个字节还是由四个字节组成的最简单方法</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">is32Bit</span>(<span class="params">c</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> c.codePointAt(<span class="number">0</span>)   *<span class="number">0xFFFF</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">is32Bit(<span class="string">"𠮷"</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">is32Bit(<span class="string">"a"</span>) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<ul>
<li>与codePointAt方法相反的方法：String.fromCodePoint()</li>
</ul>
<p>如果String.fromCharCode方法有多个参数，则它们会被合并成一个字符串返回。</p>
<p>  *注意，fromCodePoint方法定义在String对象上，而codePointAt方法定义在字符串的实例对象上。</p>
<ul>
<li>es6为字符串提供了遍历接口</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> codePoint <span class="keyword">of</span> <span class="string">'foo'</span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(codePoint)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  *这个遍历器最大的优点是可以识别大于0xFFFF的码点，传统的for循环无法识别这样的码点</p>
<ul>
<li><p>at()</p>
<p>*识别Unicode编号大于0xFFFF的字符，返回正确的字符。Chrome浏览器已经支持该方法。</p>
<p>*es5中使用chartat()方法</p>
</li>
</ul>
<ul>
<li><p>normalize()</p>
<p>*在视觉和语义上都等价的着重符号，字符个数不同，通过normalize方法可以是其相等；</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="string">'\u01D1'</span>.normalize() === <span class="string">'\u004F\u030C'</span>.normalize()</span><br><span class="line"></span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>includes(), startsWith(), endsWith()</p>
<p>*js用来确定一个字符串是否包含在另一个字符串中的常见方法有：</p>
<p>*es6新加以上方法，均返回bool，表示是否查找到，包含两个参数：查找字符串＋从何处开始查找</p>
</li>
</ul>
<ul>
<li><p>repeat()</p>
<p>*repeat表示重复所给字符串；参数包括重复次数；参数为小数，会做取整处理；非合理数会报错(-1~1之间的数会取做0),而0重复会返回空；</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="string">'x'</span>.repeat(<span class="number">3</span>) <span class="comment">// "xxx"</span></span><br><span class="line"></span><br><span class="line"><span class="string">'hello'</span>.repeat(<span class="number">2</span>) <span class="comment">// "hellohello"</span></span><br><span class="line"></span><br><span class="line"><span class="string">'na'</span>.repeat(<span class="number">0</span>) <span class="comment">// ""</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>padStart()，padEnd()</p>
<p>*如果某个字符串不够指定长度，会在头部或尾部补全。padStart用于头部补全，padEnd用于尾部补全。</p>
</li>
</ul>
<p>一共接受两个参数，第一个参数用来指定字符串的最小长度，第二个参数是用来补全的字符串</p>
<p>等于或大于指定的最小长度，则返回原字符串。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="string">'x'</span>.padStart(<span class="number">5</span>, <span class="string">'ab'</span>) <span class="comment">// 'ababx'</span></span><br><span class="line"></span><br><span class="line"><span class="string">'x'</span>.padStart(<span class="number">4</span>, <span class="string">'ab'</span>) <span class="comment">// 'abax'</span></span><br><span class="line"></span><br><span class="line"><span class="string">'x'</span>.padEnd(<span class="number">5</span>, <span class="string">'ab'</span>) <span class="comment">// 'xabab'</span></span><br><span class="line"></span><br><span class="line"><span class="string">'x'</span>.padEnd(<span class="number">4</span>, <span class="string">'ab'</span>) <span class="comment">// 'xaba'</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>模版字符串</p>
<p>*用反引号（`）标识</p>
<p>*它可以当作普通字符串使用，也可以用来定义多行字符串，或者在字符串中嵌入变量</p>
<p>*字符串中的反问好（`）要另外转义</p>
<p>*如果使用模板字符串表示多行字符串，所有的空格和缩进都会被保留在输出之中。</p>
<p>*模板字符串中嵌入变量，需要将变量名写在${}之中,括号内部可以放入任意的JavaScript表达式，可以进行运算，以及引用对象属性</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$(<span class="string">"#result"</span>).append(<span class="string">`</span><br><span class="line"></span><br><span class="line">  There are &lt;b**<span class="subst">$&#123;basket.count&#125;</span>&lt;/b  *items</span><br><span class="line"></span><br><span class="line">   in your basket, &lt;em**<span class="subst">$&#123;basket.onSale&#125;</span>&lt;/em**</span><br><span class="line"></span><br><span class="line">  are on sale!</span><br><span class="line"></span><br><span class="line">`</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>11.实例：模版编译？？？</li>
</ul>
<h3 id="u6807_u7B7E_u6A21_u7248"><a href="#u6807_u7B7E_u6A21_u7248" class="headerlink" title="标签模版"></a>标签模版</h3><ul>
<li>“标签模板”的一个重要应用，就是过滤HTML字符串，防止用户输入恶意内容。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> message =</span><br><span class="line"></span><br><span class="line">  SaferHTML<span class="string">`&lt;p**<span class="subst">$&#123;sender&#125;</span> has sent you a message.&lt;/p**`</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SaferHTML</span>(<span class="params">templateData</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> s = templateData[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; <span class="built_in">arguments</span>.length; i++) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> arg = <span class="built_in">String</span>(<span class="built_in">arguments</span>[i]);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Escape special characters in the substitution.</span></span><br><span class="line"></span><br><span class="line">    s += arg.replace(<span class="regexp">/&amp;/g</span>, <span class="string">"&amp;amp;"</span>)</span><br><span class="line"></span><br><span class="line">            .replace(<span class="regexp">/&lt;/g</span>, <span class="string">"&amp;lt;"</span>)</span><br><span class="line"></span><br><span class="line">            .replace(<span class="comment">/**/</span>g, <span class="string">"&amp;gt;"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Don't escape special characters in the template.</span></span><br><span class="line"></span><br><span class="line">    s += templateData[i];</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> s;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>标签模板的另一个应用，就是多语言转换（国际化处理）。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">i18n<span class="string">`Welcome to <span class="subst">$&#123;siteName&#125;</span>, you are visitor number <span class="subst">$&#123;visitorNumber&#125;</span>!`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// "欢迎访问xxx，您是第xxxx位访问者！"</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>通过标签函数，你可以自己添加条件判断和循环处理功能这些功能</p>
</li>
<li><p>使用标签模板，在JavaScript语言之中嵌入其他语言</p>
</li>
<li><p>取得转义之前的原始模板而设计的: string.raw</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">tag<span class="string">`First line\nSecond line`</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tag</span>(<span class="params">strings</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(strings.raw[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// "First line\\nSecond line"</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="string-raw_28_29"><a href="#string-raw_28_29" class="headerlink" title="string.raw()"></a>string.raw()</h3><ul>
<li>定义：返回将所有变量替换，而且对斜杠进行转义，方便下一步作为字符串来使用</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">String</span>.raw<span class="string">`Hi\n<span class="subst">$&#123;2+3&#125;</span>!`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// "Hi\\n5!"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">String</span>.raw<span class="string">`Hi\u000A!`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 'Hi\\u000A!'</span></span><br></pre></td></tr></table></figure>
<ul>
<li>如果原字符串的斜杠已经转义，那么String.raw不会做任何处理。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">String</span>.raw<span class="string">`Hi\\n`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// "Hi\\n"</span></span><br></pre></td></tr></table></figure>
<h3 id="RegExp_u6784_u9020_u51FD_u6570"><a href="#RegExp_u6784_u9020_u51FD_u6570" class="headerlink" title="RegExp构造函数"></a>RegExp构造函数</h3><ul>
<li><p>在ES5中，RegExp构造函数只能接受字符串作为参数。</p>
</li>
<li><p>S6允许RegExp构造函数接受正则表达式作为参数</p>
</li>
<li><p>s6第二个参数指定修饰符,则返回的正则表达式会忽略原有的正则表达式的修饰符，</p>
</li>
</ul>
<p>只使用新指定的修饰符。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/abc/ig</span>, <span class="string">'i'</span>).flags</span><br><span class="line"></span><br><span class="line"><span class="comment">// "i"</span></span><br></pre></td></tr></table></figure>
<h3 id="u5B57_u7B26_u4E32_u7684_u6B63_u5219_u65B9_u6CD5"><a href="#u5B57_u7B26_u4E32_u7684_u6B63_u5219_u65B9_u6CD5" class="headerlink" title="字符串的正则方法"></a>字符串的正则方法</h3><ul>
<li><p>字符串对象共有4个方法：match()、replace()、search()和split()</p>
</li>
<li><p>es6:ES6将这4个方法，在语言内部全部调用RegExp的实例方法，</p>
<p>从而做到所有与正则相关的方法，全都定义在RegExp对象上???</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">String</span>.prototype.match 调用 <span class="built_in">RegExp</span>.prototype[<span class="built_in">Symbol</span>.match]</span><br><span class="line"></span><br><span class="line"><span class="built_in">String</span>.prototype.replace 调用 <span class="built_in">RegExp</span>.prototype[<span class="built_in">Symbol</span>.replace]</span><br><span class="line"></span><br><span class="line"><span class="built_in">String</span>.prototype.search 调用 <span class="built_in">RegExp</span>.prototype[<span class="built_in">Symbol</span>.search]</span><br><span class="line"></span><br><span class="line"><span class="built_in">String</span>.prototype.split 调用 <span class="built_in">RegExp</span>.prototype[<span class="built_in">Symbol</span>.split]</span><br></pre></td></tr></table></figure>
<h3 id="u_u4FEE_u9970_u7B26"><a href="#u_u4FEE_u9970_u7B26" class="headerlink" title="u修饰符"></a>u修饰符</h3><ul>
<li><p>ES6对正则表达式添加了u修饰符，含义为“Unicode模式”,正确处理四个字节的UTF-16编码</p>
</li>
<li><p>一旦加上u修饰符号，就会修改下面这些正则表达式的行为,对于码点大于0xFFFF的Unicode字符:</p>
</li>
</ul>
<ol>
<li>点（.）字符</li>
<li>大括号  变量</li>
<li>量词:</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">/𠮷&#123;<span class="number">2</span>&#125;/.test(<span class="string">'𠮷𠮷'</span>) <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">/𠮷&#123;<span class="number">2</span>&#125;/u.test(<span class="string">'𠮷𠮷'</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<ol>
<li>预定义模式</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">/^\S$/.test(<span class="string">'𠮷'</span>) <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">/^\S$/u.test(<span class="string">'𠮷'</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">上面代码的\S是预定义模式</span><br></pre></td></tr></table></figure>
<ol>
<li><p>i修饰符</p>
<ul>
<li>有些Unicode字符的编码不同，但是字型很相近，比如，\u004B与\u212A都是大写的K。</li>
</ul>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">/[a-z]/i.test(<span class="string">'\u212A'</span>) <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">/[a-z]/iu.test(<span class="string">'\u212A'</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<ul>
<li>上面代码中，不加u修饰符，就无法识别非规范的K字符。</li>
</ul>
<h3 id="y_u4FEE_u9970_u7B26"><a href="#y_u4FEE_u9970_u7B26" class="headerlink" title="y修饰符"></a>y修饰符</h3><ul>
<li><p>全局匹配作用，类似g修饰符；</p>
</li>
<li><p>g修饰符只要剩余位置中存在匹配就可，而y修饰符确保匹配必须从剩余的第一个位置开始，这也就是“粘连”的涵义。</p>
</li>
<li><p>sticky属性，可以判断是否设置了y修饰符</p>
</li>
<li><p>flags，可以判断设置的修饰符</p>
</li>
<li><p>RegExp.escape，字符串必须转义，作为正则模式。</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> r = <span class="regexp">/hello\d/y</span>;</span><br><span class="line"></span><br><span class="line">r.sticky <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h2 id="u6570_u503C_u7684_u6269_u5C55"><a href="#u6570_u503C_u7684_u6269_u5C55" class="headerlink" title="数值的扩展"></a>数值的扩展</h2><ul>
<li><p>新提供了Number.isFinite()和Number.isNaN()两个方法，用来检查Infinite和NaN这两个特殊值</p>
<p>  *区别：传统方法先调用Number()将非数值的值转为数值，再进行判断，而这两个新方法只对数值有效</p>
</li>
<li><p>parseInt()和parseFloat()，移植到Number对象上面</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// ES5的写法</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'12.34'</span>) <span class="comment">// 12</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">'123.45#'</span>) <span class="comment">// 123.45</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6的写法</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Number</span>.parseInt(<span class="string">'12.34'</span>) <span class="comment">// 12</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Number</span>.parseFloat(<span class="string">'123.45#'</span>) <span class="comment">// 123.45</span></span><br></pre></td></tr></table></figure>
<p>  *目的，是逐步减少全局性方法，使得语言逐步模块化</p>
<ul>
<li><p>Number.isInteger()</p>
<p>*作用：用来判断一个值是否为整数（3.0被视为3）</p>
</li>
<li><p>Number.EPSILON 极小的常量</p>
<p>*目的：在于为浮点数计算，设置一个误差范围（误差能够小于Number.EPSILON，我们就可以认为得到了正确结果，</p>
</li>
</ul>
<p>Number.EPSILON的实质是一个可以接受的误差范围。）</p>
<ul>
<li>安全整数和Number.isSafeInteger<ul>
<li>Number.MAX_SAFE_INTEGER和Number.MIN_SAFE_INTEGER这两个常量，用来表示这个范围的上下限。</li>
</ul>
</li>
</ul>
<p>Number.isSafeInteger()则是用来判断一个整数是否落在这个范围之内。</p>
<p>  *验证运算结果是否落在安全整数的范围时，不要只验证运算结果，而要同时验证参与运算的每个值。</p>
<ul>
<li>Math.trunc()</li>
</ul>
<p>Math.trunc方法用于去除一个数的小数部分，返回整数部分。</p>
<ul>
<li><p>Math.sign方法用来判断一个数到底是正数、负数、还是零。<br>它会返回五种值。<br>参数为正数，返回+1；<br>参数为负数，返回-1；<br>参数为0，返回0；<br>参数为-0，返回-0;<br>其他值，返回NaN。</p>
</li>
<li><p>Math.cbrt方法用于计算一个数的立方根。</p>
</li>
<li><p>Math.clz32方法返回一个数的32位无符号整数形式有多少个前导0。</p>
</li>
<li><p>Math.imul方法返回两个数以32位带符号整数形式相乘的结果</p>
</li>
<li><p>Math.hypot方法返回所有参数的平方和的平方根。</p>
</li>
</ul>
<h3 id="u6570_u7EC4_u7684_u6269_u5C55"><a href="#u6570_u7EC4_u7684_u6269_u5C55" class="headerlink" title="数组的扩展"></a>数组的扩展</h3><ul>
<li>类似数组的对象（array-like object）和可遍历（iterable）的对象（包括新增Set和Map）</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from(<span class="string">'hello'</span>)</span><br><span class="line">\\\\</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> namesSet = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'a'</span>, <span class="string">'b'</span>])</span><br><span class="line"><span class="built_in">Array</span>.from(namesSet) <span class="comment">// ['a', 'b']</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>Array.from还可以接受第二个参数，作用类似于数组的map方法，用来对每个元素进行处理，将处理后的值放入返回的数组。</p>
</li>
<li><p>Array.from()的另一个应用是，将字符串转为数组，然后返回字符串的长度</p>
</li>
</ul>
<ul>
<li><p>Array.of()</p>
</li>
<li><p>Array.of基本上可以用来替代Array()或new Array()，并且不存在由于参数不同而导致的重载。它的行为非常统一。</p>
</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Array.of() // []&#10;&#10;Array.of(undefined) // [undefined]&#10;&#10;Array.of(1) // [1]&#10;&#10;Array.of(1, 2) // [1, 2]</span><br></pre></td></tr></table></figure>
<ul>
<li><p>实例的copyWithin() </p>
<p>*在当前数组内部，将指定位置的成员复制到其他位置（会覆盖原有成员），然后返回当前数组</p>
<p>*它接受三个参数。</p>
</li>
</ul>
<p>target（必需）：从该位置开始替换数据。</p>
<p>start（可选）：从该位置开始读取数据，默认为0。如果为负值，表示倒数。</p>
<p>end（可选）：到该位置前停止读取数据，默认等于数组长度。如果为负值，表示倒数。</p>
<ul>
<li><p>find方法，用于找出第一个符合条件的数组成员</p>
<p>*如果没有符合条件的成员，则返回undefined</p>
</li>
<li><p>findIndex方法的用法与find方法非常类似，返回第一个符合条件的数组成员的位置</p>
<p>*如果所有成员都不符合条件，则返回-1。</p>
</li>
<li><p>fill方法使用给定值，填充一个数组,参数（target，start，end）</p>
</li>
<li><p>entries()，keys()和values()——用于遍历数组</p>
<p>*唯一的区别是keys()是对键名的遍历、values()是对键值的遍历，entries()是对键值对的遍历</p>
</li>
<li><p>Array.prototype.includes方法返回一个布尔值，表示某个数组是否包含给定的值，与字符串的includes方法类似</p>
</li>
<li><p>Map结构的has方法，是用来查找键名的，比如Map.prototype.has(key)、WeakMap.prototype.has(key)、Reflect.has(target, propertyKey)。</p>
</li>
</ul>
<p>Set结构的has方法，是用来查找值的，比如Set.prototype.has(value)、WeakSet.prototype.has(value)。</p>
<ul>
<li><p>空位:</p>
<p>*ES5对空位的处理，已经很不一致了，大多数情况下会忽略空位。</p>
</li>
</ul>
<p>forEach(), filter(), every() 和some()都会跳过空位。</p>
<p>map()会跳过空位，但会保留这个值</p>
<p>join()和toString()会将空位视为undefined，而undefined和null会被处理成空字符串。</p>
<p>  *ES6则是明确将空位转为undefined。</p>
<p>Array.from方法会将数组的空位，转为undefined，也就是说，这个方法不会忽略空位。</p>
<p>扩展运算符（…）也会将空位转为undefined。</p>
<p>copyWithin()会连空位一起拷贝。</p>
<p>fill()会将空位视为正常的数组位置。</p>
<p>for…of循环也会遍历空位。</p>
<h3 id="u51FD_u6570_u6269_u5C55"><a href="#u51FD_u6570_u6269_u5C55" class="headerlink" title="函数扩展"></a>函数扩展</h3><ul>
<li>ES6允许为函数的参数设置默认值，即直接写在参数定义的后面。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">log</span>(<span class="params">x, y = 'World'</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(x, y);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="u53D8_u91CF_u7ED3_u6784_u8D4B_u503C"><a href="#u53D8_u91CF_u7ED3_u6784_u8D4B_u503C" class="headerlink" title="变量结构赋值"></a>变量结构赋值</h3><ul>
<li>只要某种数据结构具有Iterator接口（Set结构、var命令，也适用于let和const命令</li>
</ul>
<p>），都可以采用数组形式的解构赋值。 </p>
<ul>
<li>解构赋值允许指定默认值。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> [foo = <span class="literal">true</span>] = [];</span><br><span class="line"></span><br><span class="line">foo <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">[x, y = <span class="string">'b'</span>] = [<span class="string">'a'</span>] <span class="comment">// x='a', y='b'</span></span><br><span class="line"></span><br><span class="line">[x, y = <span class="string">'b'</span>] = [<span class="string">'a'</span>, <span class="literal">undefined</span>] <span class="comment">// x='a', y='b'</span></span><br></pre></td></tr></table></figure>
<ul>
<li>如果默认值是一个表达式，那么这个表达式是惰性求值的，即只有在用到的时候，才会求值。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'aaa'</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [x = f()] = [<span class="number">1</span>];</span><br></pre></td></tr></table></figure>
<ul>
<li>对象的解构赋值的内部机制，是先找到同名属性，然后再赋给对应的变量。真正被赋值的是后者，而不是前者。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> &#123; foo: foo, bar: bar &#125; = &#123; foo: <span class="string">"aaa"</span>, bar: <span class="string">"bbb"</span> &#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>嵌套对象</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> &#123; loc: &#123; start: &#123; line &#125;&#125; &#125; = node;</span><br><span class="line"></span><br><span class="line">line <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line">loc  <span class="comment">// error: loc is undefined</span></span><br><span class="line"></span><br><span class="line">start <span class="comment">// error: start is undefined</span></span><br><span class="line"></span><br><span class="line">上面代码中，只有line是变量，loc和start都是模式，不会被赋值。</span><br></pre></td></tr></table></figure>
<p>*字符串解构</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//属性解构，如length，tostring属性</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;length : len&#125; = <span class="string">'hello'</span>;</span><br><span class="line"></span><br><span class="line">len <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>
<p>＊特例</p>
<p>  *解构赋值的规则是，只要等号右边的值不是对象，就先将其转为对象。</p>
<p>  *由于undefined和null无法转为对象，所以对它们进行解构赋值，都会报错。</p>
<p>  *!不要在模式中放置圆括号。</p>
<ul>
<li>变量的解构赋值用途</li>
</ul>
<p>（1）交换变量的值</p>
<p>（2）从函数返回多个值</p>
<p>（3）函数参数的定义</p>
<p>（4）提取JSON数据</p>
<p>（5）函数参数的默认值</p>
<p>（6）遍历Map结构</p>
<p>（7）输入模块的指定方法</p>
<h3 id="u51FD_u6570_u6269_u5C55-1"><a href="#u51FD_u6570_u6269_u5C55-1" class="headerlink" title="函数扩展"></a>函数扩展</h3><ul>
<li><p>参数变量是默认声明的，所以不能用let或const再次声明。</p>
</li>
<li><p>难点：比较下列不同</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//第一种: 初值为0，解构失败用默认值，不传值用备用值0，0</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">&#123;x = 0, y = 0&#125; = &#123;&#125;</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> [x, y];</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">move(&#123;x: <span class="number">3</span>, y: <span class="number">8</span>&#125;); <span class="comment">// [3, 8]</span></span><br><span class="line"></span><br><span class="line">move(&#123;x: <span class="number">3</span>&#125;); <span class="comment">// [3, 0]</span></span><br><span class="line"></span><br><span class="line">move(&#123;&#125;); <span class="comment">// [0, 0]</span></span><br><span class="line"></span><br><span class="line">move(); <span class="comment">// [0, 0]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//第二种： 初值为undefined，解构失败用默认值，不传值用备用值0，0</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">&#123;x, y&#125; = &#123; x: 0, y: 0 &#125;</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> [x, y];</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">move(&#123;x: <span class="number">3</span>, y: <span class="number">8</span>&#125;); <span class="comment">// [3, 8]</span></span><br><span class="line"></span><br><span class="line">move(&#123;x: <span class="number">3</span>&#125;); <span class="comment">// [3, undefined]</span></span><br><span class="line"></span><br><span class="line">move(&#123;&#125;); <span class="comment">// [undefined, undefined]</span></span><br><span class="line"></span><br><span class="line">move(); <span class="comment">// [0, 0] why？？</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//第三种：初值为undefined、5，解构失败用默认值，不传值用备用值undefined，5，备用值不可用undefined，报错！</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">&#123;x, y = 5&#125;</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(x, y);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(&#123;&#125;) <span class="comment">// undefined, 5</span></span><br><span class="line"></span><br><span class="line">foo(&#123;x: <span class="number">1</span>&#125;) <span class="comment">// 1, 5</span></span><br><span class="line"></span><br><span class="line">foo(&#123;x: <span class="number">1</span>, y: <span class="number">2</span>&#125;) <span class="comment">// 1, 2</span></span><br><span class="line"></span><br><span class="line">foo() <span class="comment">// TypeError: Cannot read property 'x' of undefined</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//func(&#123;&#125;);触发解构失败</span></span><br></pre></td></tr></table></figure>
<p>  *也就是 等于下列写法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//再请问下面两种写法有什么差别？</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 写法一</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">m1</span>(<span class="params">&#123;x = 0, y = 0&#125; = &#123;&#125;</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> [x, y];</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 写法二</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">m2</span>(<span class="params">&#123;x, y&#125; = &#123; x: 0, y: 0 &#125;</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> [x, y];</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//上面两种写法都对函数的参数设定了默认值，</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//区别是写法二函数参数的默认值是空对象，但是设置了对象解构赋值的默认值；</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//写法一函数参数的默认值是一个有具体属性的函数，但是没有设置对象解构赋值的默认值。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数没有参数的情况</span></span><br><span class="line"></span><br><span class="line">m1() <span class="comment">// [0, 0]</span></span><br><span class="line"></span><br><span class="line">m2() <span class="comment">// [0, 0]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// x和y都有值的情况</span></span><br><span class="line"></span><br><span class="line">m1(&#123;x: <span class="number">3</span>, y: <span class="number">8</span>&#125;) <span class="comment">// [3, 8]</span></span><br><span class="line"></span><br><span class="line">m2(&#123;x: <span class="number">3</span>, y: <span class="number">8</span>&#125;) <span class="comment">// [3, 8]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// x有值，y无值的情况</span></span><br><span class="line"></span><br><span class="line">m1(&#123;x: <span class="number">3</span>&#125;) <span class="comment">// [3, 0]</span></span><br><span class="line"></span><br><span class="line">m2(&#123;x: <span class="number">3</span>&#125;) <span class="comment">// [3, undefined]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// x和y都无值的情况</span></span><br><span class="line"></span><br><span class="line">m1(&#123;&#125;) <span class="comment">// [0, 0];</span></span><br><span class="line"></span><br><span class="line">m2(&#123;&#125;) <span class="comment">// [undefined, undefined]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">m1(&#123;z: <span class="number">3</span>&#125;) <span class="comment">// [0, 0]</span></span><br><span class="line"></span><br><span class="line">m2(&#123;z: <span class="number">3</span>&#125;) <span class="comment">// [undefined, undefined]</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>如果传入undefined，将触发该参数等于默认值，null则没有这个效果</p>
</li>
<li><p>函数length属性：</p>
<p>*指定了默认值后，length属性将失真</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;&#125;).length <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">a = 5</span>)</span>&#123;&#125;).length <span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">a, b, c = 5</span>)</span>&#123;&#125;).length <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<p>  *rest参数也不会计入length属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">...args</span>) </span>&#123;&#125;).length <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>作用域</p>
<p>*即先是当前函数的作用域，然后才是全局作用域</p>
<p>*如果调用时，函数作用域内部的变量x没有生成，结果就会不一样</p>
<p>*参数变量x是默认声明的，在函数体中，不能用let或const再次声明</p>
</li>
</ul>
<ul>
<li>rest参数</li>
</ul>
<pre><code>1. rest参数代替arguments变量

2. rest参数之后不能再有其他参数（即只能是最后一个参数），否则会报错。
</code></pre><ul>
<li>扩展运算符</li>
</ul>
<pre><code>1. rest参数的逆运算

2. 可放在参数中间

3. 替代数组的apply方法 



eg:



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">f(...args);代替f.appley(<span class="literal">null</span>,args)<span class="comment">//args是数组</span></span><br></pre></td></tr></table></figure>

4. 应用:

    1）合并数组

    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// ES5</span></span><br><span class="line"></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>].concat(more)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, ...more]</span><br></pre></td></tr></table></figure>

     2）与解构赋值结合

    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> <span class="comment">// ES5</span></span><br><span class="line"></span><br><span class="line"> a = list[<span class="number">0</span>], rest = list.slice(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"></span><br><span class="line">[a, ...rest] = list</span><br></pre></td></tr></table></figure>

    3）函数的返回值

    <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">        <span class="keyword">var</span> dateFields = readDateFields(database);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>(...dateFields);</span><br><span class="line"></span><br><span class="line">        <span class="string">``</span><span class="string">`    </span><br><span class="line"></span><br><span class="line">         4）字符串  </span><br><span class="line"></span><br><span class="line">         5）实现了Iterator接口的对象</span><br><span class="line"></span><br><span class="line">             1. 任何Iterator接口的对象，都可以用扩展运算符转为真正的数组  </span><br><span class="line"></span><br><span class="line">         6）Map和Set结构，Generator函数 </span><br><span class="line"></span><br><span class="line">    5. name属性</span><br><span class="line"></span><br><span class="line">        * 函数的name属性，返回该函数的函数名。</span><br><span class="line"></span><br><span class="line">        * Function构造函数返回的函数实例，name属性的值为“anonymous”。</span><br><span class="line"></span><br><span class="line">        * bind返回的函数，name属性值会加上“bound ”前缀。  </span><br><span class="line"></span><br><span class="line">    6. 箭头函数</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">        `</span><span class="string">``</span>javascript</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> f = v =  *v;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//上面的箭头函数等同于：</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> f = <span class="function"><span class="keyword">function</span>(<span class="params">v</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> v;</span><br><span class="line"></span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//参数空为“() ”</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//返回值多个，用“｛｝”包起来</span></span><br><span class="line"></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        <span class="comment">//箭头函数可以与变量解构结合使用。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> full = (&#123; first, last &#125;) =  *first + <span class="string">' '</span> + last;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">full</span>(<span class="params"> person </span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> person.first + <span class="string">' '</span> + person.name;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//下面是rest参数与箭头函数结合的例子。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> numbers = (...nums) =  *nums;</span><br><span class="line"></span><br><span class="line">numbers(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// [1,2,3,4,5]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> headAndTail = (head, ...tail) =  *[head, tail];</span><br><span class="line"></span><br><span class="line">headAndTail(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// [1,[2,3,4,5]]</span></span><br></pre></td></tr></table></figure>

    **箭头函数有几个使用注意点。
</code></pre><p>（1）函数体内的this对象，就是定义时所在的对象，而不是使用时所在的对象。</p>
<p>（2）不可以当作构造函数，也就是说，不可以使用new命令，否则会抛出一个错误。</p>
<p>（3）不可以使用arguments对象，该对象在函数体内不存在。如果要用，可以用Rest参数代替。</p>
<p>（4）不可以使用yield命令，因此箭头函数不能用作Generator函数。</p>
<p>上面四点中，第一点尤其值得注意。this对象的指向是可变的，但是在箭头函数中，它是固定的。</p>
<ol>
<li><p>函数绑定 </p>
<p>双冒号左边是一个对象，右边是一个函数。该运算符会自动将左边的对象，作为上下文环境（即this对象），绑定到右边的函数上面。</p>
</li>
<li><p>函数尾调用</p>
<p>指某个函数的最后一步是调用另一个函数</p>
</li>
<li><p>尾调用优化？？？</p>
</li>
<li><p>在ES6中，只要使用尾递归，就不会发生栈溢出，相对节省内存。</p>
</li>
</ol>
<p>简单的写法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">n, total = 1</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (n === <span class="number">1</span>) <span class="keyword">return</span> total;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> factorial(n - <span class="number">1</span>, n * total);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">factorial(<span class="number">5</span>) <span class="comment">// 120</span></span><br></pre></td></tr></table></figure>
<p>一旦使用递归，就最好使用尾递归。</p>
<h3 id="u5BF9_u8C61_u6269_u5C55"><a href="#u5BF9_u8C61_u6269_u5C55" class="headerlink" title="对象扩展"></a>对象扩展</h3><ul>
<li>属性名表达式与简洁表示法，不能同时使用，会报错。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 报错</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo = <span class="string">'bar'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bar = <span class="string">'abc'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> baz = &#123; [foo] &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 正确</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo = <span class="string">'bar'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> baz = &#123; [foo]: <span class="string">'abc'</span>&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>Object.is</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.is(&#123;&#125;, &#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Object.assign()</li>
</ul>
<p>方法用来将源对象（source）的所有可枚举属性，复制到目标对象（target）。</p>
<p>它至少需要两个对象作为参数，第一个参数是目标对象，后面的参数都是源对象。</p>
<p>只要有一个参数不是对象，就会抛出TypeError错误。</p>
<p>  *用处</p>
<p>（1）为对象添加属性</p>
<p>（2）为对象添加方法</p>
<p>（3）克隆对象</p>
<p>（4）合并多个对象</p>
<p>（5）为属性指定默认值</p>
<ul>
<li><p>Object.getOwnPropertyDescriptor方法可以获取该属性的描述对象。</p>
</li>
<li><p>ES5有三个操作会忽略enumerable为false的属性。</p>
<p>*for…in 循环：只遍历对象自身的和继承的可枚举的属性</p>
</li>
</ul>
<p>Object.keys()：返回对象自身的所有可枚举的属性的键名</p>
<p>JSON.stringify()：只串行化对象自身的可枚举的属性</p>
<ul>
<li><p>ES6新增了两个操作，会忽略enumerable为false的属性。</p>
<p>*Object.assign()：只拷贝对象自身的可枚举的属性</p>
</li>
</ul>
<p>Reflect.enumerate()：返回所有for…in循环会遍历的属性<br>i<br>尽量不要用for…in循环，而用Object.keys()代替。</p>
<ul>
<li>属性的遍历 </li>
</ul>
<ol>
<li><p>for…in<br>for…in循环遍历对象自身的和继承的可枚举属性（不含Symbol属性）。</p>
</li>
<li><p>Object.keys(obj)<br>Object.keys返回一个数组，包括对象自身的（不含继承的）所有可枚举属性（不含Symbol属性）。</p>
</li>
</ol>
<p>3.Object.getOwnPropertyNames(obj)<br>  Object.getOwnPropertyNames返回一个数组，包含对象自身的所有属性（不含Symbol属性，但是包括不可枚举属性）。</p>
<ol>
<li><p>Object.getOwnPropertySymbols(obj)</p>
<p> Object.getOwnPropertySymbols返回一个数组，包含对象自身的所有Symbol属性。</p>
</li>
<li><p>Reflect.ownKeys(obj)</p>
<p> Reflect.ownKeys返回一个数组，包含对象自身的所有属性，不管是属性名是Symbol或字符串，也不管是否可枚举。</p>
</li>
<li><p>Reflect.enumerate(obj)</p>
<p> Reflect.enumerate返回一个Iterator对象，遍历对象自身的和继承的所有可枚举属性（不含Symbol属性），与for…in循环相同。</p>
</li>
</ol>
<ul>
<li><strong>proto</strong>属性（前后各两个下划线）</li>
</ul>
<p>用来读取或设置当前对象的prototype对象</p>
<ul>
<li>Object.setPrototypeOf()</li>
</ul>
<p>Object.setPrototypeOf方法的作用与<strong>proto</strong>相同，用来设置一个对象的prototype对象,</p>
<p>是ES6正式推荐的设置原型对象的方法。</p>
<ul>
<li><p>Object.getPrototypeOf()</p>
<p>该方法与setPrototypeOf方法配套，用于读取一个对象的prototype对象。</p>
</li>
</ul>

    
    </div>
    <footer class="article-footer">
      <a data-url="http://fuxiao0.github.io/2016/01/21/ECMAScript-6/" data-id="cik851407001fqqktpovty334" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/es6/">es6</a></li></ul>

    </footer>
  </div>
  
</article>



  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/5/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span>
    </nav>
  
</section>
        
          <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/angularJS/">angularJS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bootstrap/">bootstrap</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css3/">css3</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/datetimepicker/">datetimepicker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/doctype/">doctype</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/es6/">es6</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hack/">hack</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js-文档碎片/">js 文档碎片</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js中最重要的一点/">js中最重要的一点</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sourceTree使用/">sourceTree使用</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/velocity/">velocity</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端定律/">前端定律</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/本地存储/">本地存储</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/闭包/">闭包</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/angularJS/" style="font-size: 10px;">angularJS</a> <a href="/tags/bootstrap/" style="font-size: 10px;">bootstrap</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/css3/" style="font-size: 10px;">css3</a> <a href="/tags/datetimepicker/" style="font-size: 10px;">datetimepicker</a> <a href="/tags/doctype/" style="font-size: 10px;">doctype</a> <a href="/tags/es6/" style="font-size: 20px;">es6</a> <a href="/tags/hack/" style="font-size: 10px;">hack</a> <a href="/tags/js-文档碎片/" style="font-size: 10px;">js 文档碎片</a> <a href="/tags/js中最重要的一点/" style="font-size: 10px;">js中最重要的一点</a> <a href="/tags/sourceTree使用/" style="font-size: 10px;">sourceTree使用</a> <a href="/tags/velocity/" style="font-size: 10px;">velocity</a> <a href="/tags/前端定律/" style="font-size: 10px;">前端定律</a> <a href="/tags/本地存储/" style="font-size: 10px;">本地存储</a> <a href="/tags/闭包/" style="font-size: 10px;">闭包</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">时间轴</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">2016年02月</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">2016年01月</a><span class="archive-list-count">8</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最近更新</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/02/04/bootstrap的container使用注意/">bootstrap的container使用注意</a>
          </li>
        
          <li>
            <a href="/2016/02/04/解决日历插件不能强制关闭的问题/">解决日历插件不能强制关闭的问题</a>
          </li>
        
          <li>
            <a href="/2016/02/03/SourceTree-合并代码正确的方法/">SourceTree 合并代码正确的方法</a>
          </li>
        
          <li>
            <a href="/2016/02/02/angularjs初步/">angularjs初步</a>
          </li>
        
          <li>
            <a href="/2016/02/02/js作用域最重要的一点/">js作用域最重要的一点</a>
          </li>
        
      </ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 FuXiao<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">主页</a>
  
    <a href="/archives" class="mobile-nav-link">归类</a>
  
    <a href="/tags" class="mobile-nav-link">标签</a>
  
    <a href="/life" class="mobile-nav-link">生活</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
</nav>
    

<script src="//libs.baidu.com/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>
<div id="totop" style="position:fixed;bottom:150px;right:50px;cursor: pointer;">
<a title="返回顶部"><img src="/imgs/scrollup.png"/></a>
</div>

<script src="/js/totop.js"></script>


  </div>
</body>
</html>
